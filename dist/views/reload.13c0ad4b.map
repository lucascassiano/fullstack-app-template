{"version":3,"sources":["reload.js"],"names":["window","isDev","_reloader","subscribe","url","callback","source","EventSource","onmessage","e","data","console","configDev","onerror","readyState","CLOSED","log","close","bind","test","location","reload","onload"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;AAGAA,MAAM,CAACC,KAAP,GAAe,KAAf;;AAEA,SAASC,SAAT,GAAqB;AACjB,WAASC,SAAT,CAAmBC,GAAnB,EAAwBC,QAAxB,EAAkC;AAC9B,QAAIC,MAAM,GAAG,IAAIN,MAAM,CAACO,WAAX,CAAuBH,GAAvB,CAAb;;AACAE,IAAAA,MAAM,CAACE,SAAP,GAAmB,UAAUC,CAAV,EAAa;AAC5BJ,MAAAA,QAAQ,CAACI,CAAC,CAACC,IAAH,CAAR;AACAC,MAAAA,OAAO,CAACF,CAAC,CAACC,IAAH,CAAP;AACAE,MAAAA,SAAS;AACZ,KAJD;;AAKAN,IAAAA,MAAM,CAACO,OAAP,GAAiB,UAAUJ,CAAV,EAAa;AAC1B,UAAIH,MAAM,CAACQ,UAAP,IAAqBd,MAAM,CAACO,WAAP,CAAmBQ,MAA5C,EAAoD;AACpDJ,MAAAA,OAAO,CAACK,GAAR,CAAY,WAAZ,EAAyBP,CAAzB;AACH,KAHD;;AAIA,WAAOH,MAAM,CAACW,KAAP,CAAaC,IAAb,CAAkBZ,MAAlB,CAAP;AACH;;AAAA;AACDH,EAAAA,SAAS,CAAC,cAAD,EAAiB,UAAUO,IAAV,EAAgB;AACtCC,IAAAA,OAAO,CAACK,GAAR,CAAYN,IAAZ;;AACA,QAAIA,IAAI,IAAI,SAASS,IAAT,CAAcT,IAAd,CAAZ,EAAiC;AAC7BV,MAAAA,MAAM,CAACoB,QAAP,CAAgBC,MAAhB;AACH;AACJ,GALQ,CAAT;AAMH;;AAAA;;AAED,SAAST,SAAT,GAAqB;AACjB,MAAI,CAACZ,MAAM,CAACC,KAAZ,EAAmB;AACfD,IAAAA,MAAM,CAACC,KAAP,GAAe,IAAf;AACH;AACJ;;AACDD,MAAM,CAACsB,MAAP,GAAgB,YAAY;AACxBpB,EAAAA,SAAS;AACZ,CAFD","file":"reload.13c0ad4b.map","sourceRoot":"../../views","sourcesContent":["/*\nthis enables livereload\n*/\nwindow.isDev = false;\n\nfunction _reloader() {\n    function subscribe(url, callback) {\n        var source = new window.EventSource(url);\n        source.onmessage = function (e) {\n            callback(e.data);\n            console(e.data);\n            configDev();\n        };\n        source.onerror = function (e) {\n            if (source.readyState == window.EventSource.CLOSED) return;\n            console.log('sse error', e);\n        };\n        return source.close.bind(source);\n    };\n    subscribe('/eventstream', function (data) {\n        console.log(data)\n        if (data && /reload/.test(data)) {\n            window.location.reload();\n        }\n    });\n};\n\nfunction configDev() {\n    if (!window.isDev) {\n        window.isDev = true;\n    }\n}\nwindow.onload = function () {\n    _reloader();\n}"]}